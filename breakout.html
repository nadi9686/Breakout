<!DOCTYPE html>

<html>

	<head>
	    <meta charset="utf-8" />
	    <title>Gamedev Phaser Workshop - lesson 01: Initialize the framework</title>
	    <link rel="stylesheet" href="breakout.css">
	    <script src="js/phaser.min.js"></script>
	</head>

	<body>
	<script>

	    var game = new Phaser.Game(700, 475, Phaser.CANVAS, null, {
	      preload: preload, create: create, update: update
	    });

	    var ball;
	    var paddle;

	    function preload() {
    		game.scale.pageAlignHorizontally = true;
    		game.scale.pageAlignVertically = true;
    		game.stage.backgroundColor = '#eee';
    		game.load.image('ball', 'pokeball.png');//loads objects
    		game.load.image('paddle', 'paddle.png');
	    }

	    function create() {
	    	game.physics.startSystem(Phaser.Physics.ARCADE);//initialize arcade physics engine
	    	ball = game.add.sprite(game.world.width*0.5, game.world.height-50, 'ball');//positions ball on paddle
	    	ball.anchor.set(0.5);
	    	game.physics.enable(ball, Phaser.Physics.ARCADE);//enables our ball for physics system
	    	ball.body.collideWorldBounds = true;
	    	ball.body.bounce.set(1);
	    	ball.body.velocity.set(150, -150);//sets velocity to bounce correctly

	    	paddle = game.add.sprite(game.world.width*0.5, game.world.height-5, 'paddle');//adds and positions paddle
	    	paddle.anchor.set(0.5,1);//anchor to position paddle in middle
	    	game.physics.enable(paddle, Phaser.Physics.ARCADE);//enable physics
	    	paddle.body.immovable = true;

	    }
	    function update() {
	    	game.physics.arcade.collide(ball, paddle);//enable collision
	    	paddle.x = game.input.x || game.world.width*0.5;//sets input position to be in middle of screen
	    }
	</script>
	</body>

</html>
